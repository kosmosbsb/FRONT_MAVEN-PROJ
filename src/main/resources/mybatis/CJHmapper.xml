<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<!-- sql 매핑하기 (Comment.xml, OneMemo.xml 참고) -->
<mapper namespace="mybatis.CJHmapper"> 
	<select id="selectListsp" resultType="CjhDTO">
		select space_no, space_name, intro_main, space_tag, intro_detail from space 
		where space_no=#{sn}
	</select>
	<select id="selectListhost" resultType="CjhDTO">
		select H.h_nickname, H.introduce, S.mail, S.phone from space S inner join user_host H on S.id=H.id 
		where S.space_no=#{sn}
	</select>
	<select id="selectListres" resultType="CjhDTO">
		select space_no, oper_time, regularly_close, min_day, max_day, min_person, max_person, price_standard, time_or_day, price_weekday, precaution 
		from space_reserve_info 
		where space_no=#{sn}
	</select>
	
	<insert id="insertSpace" parameterType="CjhDTO">
		insert into space(SPACE_NO, SPACE_NAME, HEART, SPACE_TYPE, FACILITIES, INTRO_MAIN, INTRO_DETAIL, ADDRESS, SPACE_TAG, IMG_MAIN, MAIL, PHONE, SIGUNGU, ID) values(SPACE_SEQ.NEXTVAL,#{dto.space_name},#{dto.heart},#{dto.space_type},#{dto.facilities},#{dto.intro_main},#{dto.intro_detail},#{dto.address},#{dto.space_tag},#{dto.img_main},#{dto.mail},#{dto.phone},#{dto.sigungu},#{dto.id})
	</insert>
	
	<insert id="insertReserveInfo" parameterType="CjhDTO">
		insert into SPACE_RESERVE_INFO(SPACE_NO, MIN_DAY, MAX_DAY, MIN_PERSON, MAX_PERSON, PRICE_STANDARD, PRICE_WEEKDAY, PRECAUTION, TIME_OR_DAY, OPER_TIME, REGULARLY_CLOSE) values(RESERVEINFO_SEQ.NEXTVAL,#{dto.min_day},#{dto.max_day},#{dto.min_person},#{dto.max_person},#{dto.price_standard},#{dto.price_weekday},#{dto.precaution},#{dto.time_or_day},#{dto.oper_time},#{dto.regularly_close})
	</insert>
	
</mapper>



